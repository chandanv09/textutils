<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
.scroll-area {
  width: 100%;
  overflow-x: scroll; /* allow native mobile scroll */
  overflow-y: hidden;
  position: relative;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;     /* Firefox hide */
}
.scroll-area::-webkit-scrollbar {
  display: none;             /* Chrome hide */
}

.content {
  display: flex;
  gap: 20px;
  width: max-content;
}

.box {
  min-width: 250px;
  padding: 40px;
  background: #ddd;
  border-radius: 10px;
}

.custom-scrollbar {
  width: 100%;
  height: 8px;
  background: #ccc;
  border-radius: 8px;
  margin-top: 12px;
  position: relative;
}

.thumb {
  height: 100%;
  width: 60px;
  background: #333;
  border-radius: 8px;
  position: absolute;
  left: 0;
  cursor: pointer;
}



</style>
<body>
<div class="scroll-area">
  <div class="content">
    <div class="box">Box 1</div>
    <div class="box">Box 2</div>
    <div class="box">Box 3</div>
    <div class="box">Box 4</div>
    <div class="box">Box 5</div>
  </div>
</div>

<div class="custom-scrollbar">
  <div class="thumb"></div>
</div>




<script src="https://code.jquery.com/jquery-3.3.1.min.js"  crossorigin="anonymous"></script>
<script>
$(function () {
  const $area = $(".scroll-area");
  const $content = $(".content");
  const $bar = $(".custom-scrollbar");
  const $thumb = $(".thumb");

  let dragging = false;
  let startX = 0;
  let startLeft = 0;

  // Resize thumb based on content width
  function updateThumbSize() {
    const ratio = $area.width() / $content.width();
    const thumbWidth = Math.max(40, $bar.width() * ratio);
    $thumb.width(thumbWidth);
  }

  updateThumbSize();
  $(window).on("resize", updateThumbSize);

  // ========== THUMB DRAG (desktop + mobile) ==========
  $thumb.on("mousedown touchstart", function (e) {
    dragging = true;

    const pageX = e.pageX || e.originalEvent.touches[0].pageX;
    startX = pageX;
    startLeft = parseFloat($thumb.css("left"));
  });

  $(document).on("mousemove touchmove", function (e) {
    if (!dragging) return;
     e.preventDefault();

    const pageX = e.pageX || e.originalEvent.touches[0].pageX;
    const dx = pageX - startX;

    let newLeft = startLeft + dx;
    const maxLeft = $bar.width() - $thumb.width();

    newLeft = Math.max(0, Math.min(maxLeft, newLeft));
    $thumb.css("left", newLeft);

    const scrollRatio = newLeft / maxLeft;
    const contentMax = $content.width() - $area.width();
  
    $area.scrollLeft(scrollRatio * contentMax);
  });

  $(document).on("mouseup touchend", function () {
    dragging = false;
  });

  // ========== MOBILE CONTENT SCROLL â†’ UPDATE THUMB ==========
  $area.on("scroll", function () {
    const maxScroll = $content.width() - $area.width();
    const scrollRatio = $area.scrollLeft() / maxScroll;

    const maxLeft = $bar.width() - $thumb.width();
    $thumb.css("left", scrollRatio * maxLeft);
  });
});


</script>
</body>
</html>
